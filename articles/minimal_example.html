<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Typical Use of `eatATA`: a Minimal Example â€¢ eatATA</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Typical Use of `eatATA`: a Minimal Example">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatATA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/minimal_example.html">Typical Use of `eatATA`: a Minimal Example</a></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Overview of `eatATA` Functionality</a></li>
    <li><a class="dropdown-item" href="../articles/use_case_pilot_study.html">Typical Use of `eatATA`: a Pilot Study Example</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beckerbenj/eatATA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Typical Use of `eatATA`: a Minimal Example</h1>
                        <h4 data-toc-skip class="author">Benjamin
Becker</h4>
            
            <h4 data-toc-skip class="date">2024-10-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/beckerbenj/eatATA/blob/master/vignettes/minimal_example.Rmd" class="external-link"><code>vignettes/minimal_example.Rmd</code></a></small>
      <div class="d-none name"><code>minimal_example.Rmd</code></div>
    </div>

    
    
<p><code>eatATA</code> efficiently translates test design requirements
for Automated Test Assembly (<code>ATA</code>) into constraints for a
Mixed Integer Linear Programming Model (MILP). A number of efficient and
user-friendly functions are available that translate conceptual test
assembly constraints to constraint objects for MILP solvers, like the
<code>GLPK</code> solver. In the remainder of this vignette we will
illustrate the use of <code>eatATA</code> using a minimal example. A
general overview over <code>eatATA</code> can be found in the vignette
<a href="overview.html">Overview of <code>eatATA</code>
Functionality</a>.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>The <code>eatATA</code> package can be installed from
<code>CRAN</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"eatATA"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="item-pool">Item Pool<a class="anchor" aria-label="anchor" href="#item-pool"></a>
</h2>
<p>First, <code>eatATA</code> is loaded into your <code>R</code>
session. In this vignette we use a small simulated item pool,
<code>items_mini</code>. The goal will be to assemble a single test form
consisting of ten items, an average test time of eight minutes and
maximum <code>TIF</code> at medium ability. We therefore calculate the
<code>IIF</code> at medium ability and append it to the item pool using
the <code>calculateIFF()</code> function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># loading eatATA</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/beckerbenj/eatATA" class="external-link">eatATA</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># item pool structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">items_mini</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    30 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;  $ item      : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ format    : chr  "mc" "mc" "mc" "mc" ...</span></span>
<span><span class="co">#&gt;  $ time      : num  27.8 15.5 31 29.9 23.1 ...</span></span>
<span><span class="co">#&gt;  $ difficulty: num  -1.881 0.843 1.119 0.729 -0.489 ...</span></span>
<span></span>
<span><span class="co"># calculate and append IIF</span></span>
<span><span class="va">items_mini</span><span class="op">[</span>, <span class="st">"IIF_0"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculateIIF.html">calculateIIF</a></span><span class="op">(</span>B <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">difficulty</span>, theta <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>In Table 1 you can see the first five items of the item pool.</p>
<table class="table">
<caption>Table 1. First 5 Items of the Item Pool</caption>
<thead><tr class="header">
<th align="right">item</th>
<th align="left">format</th>
<th align="right">time</th>
<th align="right">difficulty</th>
<th align="right">IIF_0</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">mc</td>
<td align="right">27.786</td>
<td align="right">-1.881</td>
<td align="right">0.1090032</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">mc</td>
<td align="right">15.453</td>
<td align="right">0.843</td>
<td align="right">0.4494582</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">mc</td>
<td align="right">31.016</td>
<td align="right">1.119</td>
<td align="right">0.3266106</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">mc</td>
<td align="right">29.874</td>
<td align="right">0.729</td>
<td align="right">0.5033924</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">mc</td>
<td align="right">23.134</td>
<td align="right">-0.489</td>
<td align="right">0.6108816</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="objective-function">Objective Function<a class="anchor" aria-label="anchor" href="#objective-function"></a>
</h2>
<p>Next, the objective function is defined: The <code>TIF</code> should
be maximized at medium ability. For this, we use the
<code><a href="../reference/maxObjective.html">maxObjective()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">testInfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/maxObjective.html">maxObjective</a></span><span class="op">(</span>nForms <span class="op">=</span> <span class="fl">1</span>, itemValues <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">IIF</span>,</span>
<span>                          itemIDs <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">item</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="constraints">Constraints<a class="anchor" aria-label="anchor" href="#constraints"></a>
</h2>
<p>Our further, fixed constraints are defined as additional constraint
objects.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">itemNumber</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/itemsPerFormConstraint.html">itemsPerFormConstraint</a></span><span class="op">(</span>nForms <span class="op">=</span> <span class="fl">1</span>, operator <span class="op">=</span> <span class="st">"="</span>, </span>
<span>                                     targetValue <span class="op">=</span> <span class="fl">10</span>, </span>
<span>                                     itemIDs <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">item</span><span class="op">)</span></span>
<span></span>
<span><span class="va">itemUsage</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/itemUsageConstraint.html">itemUsageConstraint</a></span><span class="op">(</span>nForms <span class="op">=</span> <span class="fl">1</span>, operator <span class="op">=</span> <span class="st">"&lt;="</span>, </span>
<span>                                 targetValue <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                 itemIDs <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">item</span><span class="op">)</span></span>
<span></span>
<span><span class="va">testTime</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/itemValuesRangeConstraint.html">itemValuesDeviationConstraint</a></span><span class="op">(</span>nForms <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                itemValues <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">time</span>,</span>
<span>                                targetValue <span class="op">=</span> <span class="fl">8</span> <span class="op">*</span> <span class="fl">60</span>, </span>
<span>                                allowedDeviation <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                                relative <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                                itemIDs <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">item</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, we could determine the appropriate test time based on
the item pool using the <code>autoItemValuesMinMax()</code>
function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">testTime2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/autoItemValuesMinMaxConstraint.html">autoItemValuesMinMaxConstraint</a></span><span class="op">(</span>nForms <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                itemValues <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">time</span>,</span>
<span>                                testLength <span class="op">=</span> <span class="fl">10</span>, </span>
<span>                                allowedDeviation <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                                relative <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                                itemIDs <span class="op">=</span> <span class="va">items_mini</span><span class="op">$</span><span class="va">item</span><span class="op">)</span></span>
<span><span class="co">#&gt; The minimum and maximum values per test form are: min = 418.09 - max = 428.09</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="solver-usage">Solver usage<a class="anchor" aria-label="anchor" href="#solver-usage"></a>
</h2>
<p>To automatically assemble the test form based on our constraints, we
call the <code><a href="../reference/useSolver.html">useSolver()</a></code> function. In this function we define
which solver should be used as back end. As a default solver, we
recommend <code>GLPK</code>, which is automatically installed alongside
this package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">solver_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/useSolver.html">useSolver</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">itemNumber</span>, <span class="va">itemUsage</span>, <span class="va">testTime</span>, <span class="va">testInfo</span><span class="op">)</span>,</span>
<span>                        solver <span class="op">=</span> <span class="st">"GLPK"</span><span class="op">)</span></span>
<span><span class="co">#&gt; GLPK Simplex Optimizer 5.0</span></span>
<span><span class="co">#&gt; 34 rows, 31 columns, 151 non-zeros</span></span>
<span><span class="co">#&gt;       0: obj =  -0.000000000e+00 inf =   4.850e+02 (2)</span></span>
<span><span class="co">#&gt;      14: obj =  -0.000000000e+00 inf =   0.000e+00 (0)</span></span>
<span><span class="co">#&gt; *    34: obj =   6.734471402e+00 inf =   4.441e-16 (0)</span></span>
<span><span class="co">#&gt; OPTIMAL LP SOLUTION FOUND</span></span>
<span><span class="co">#&gt; GLPK Integer Optimizer 5.0</span></span>
<span><span class="co">#&gt; 34 rows, 31 columns, 151 non-zeros</span></span>
<span><span class="co">#&gt; 30 integer variables, all of which are binary</span></span>
<span><span class="co">#&gt; Integer optimization begins...</span></span>
<span><span class="co">#&gt; Long-step dual simplex will be used</span></span>
<span><span class="co">#&gt; +    34: mip =     not found yet &lt;=              +inf        (1; 0)</span></span>
<span><span class="co">#&gt; +    44: &gt;&gt;&gt;&gt;&gt;   6.579408205e+00 &lt;=   6.732773863e+00   2.3% (9; 0)</span></span>
<span><span class="co">#&gt; +    46: &gt;&gt;&gt;&gt;&gt;   6.729573876e+00 &lt;=   6.729573876e+00   0.0% (7; 5)</span></span>
<span><span class="co">#&gt; +    46: mip =   6.729573876e+00 &lt;=     tree is empty   0.0% (0; 19)</span></span>
<span><span class="co">#&gt; INTEGER OPTIMAL SOLUTION FOUND</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="inspect-solution">Inspect solution<a class="anchor" aria-label="anchor" href="#inspect-solution"></a>
</h2>
<p>The solution can be inspected directly via
<code><a href="../reference/inspectSolution.html">inspectSolution()</a></code> or appended to the item pool via
<code><a href="../reference/appendSolution.html">appendSolution()</a></code>. Using the <code><a href="../reference/inspectSolution.html">inspectSolution()</a></code>
function an additional row is created that calculates the column sums
for all numeric variables.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inspectSolution.html">inspectSolution</a></span><span class="op">(</span><span class="va">solver_out</span>, items <span class="op">=</span> <span class="va">items_mini</span>, idCol <span class="op">=</span> <span class="st">"item"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $form_1</span></span>
<span><span class="co">#&gt;     item format      time  difficulty   theta=0</span></span>
<span><span class="co">#&gt; 8      8     mc  30.21856 -0.36707654 0.6564876</span></span>
<span><span class="co">#&gt; 14    14   open  62.99738  0.58136415 0.5712686</span></span>
<span><span class="co">#&gt; 15    15   open  56.59458 -0.12012428 0.7150196</span></span>
<span><span class="co">#&gt; 20    20   open  87.05063  0.10201223 0.7170949</span></span>
<span><span class="co">#&gt; 22    22  order  39.92415  0.15006395 0.7108712</span></span>
<span><span class="co">#&gt; 24    24  order  40.52289 -0.53606969 0.5910511</span></span>
<span><span class="co">#&gt; 25    25  order  52.15832  0.14083641 0.7122442</span></span>
<span><span class="co">#&gt; 26    26  order  38.29060  0.02381911 0.7222039</span></span>
<span><span class="co">#&gt; 28    28  order  43.77592  0.41298287 0.6403034</span></span>
<span><span class="co">#&gt; 29    29  order  25.55363  0.24091747 0.6930294</span></span>
<span><span class="co">#&gt; Sum  211   &lt;NA&gt; 477.08666  0.62872568 6.7295739</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/appendSolution.html">appendSolution</a></span><span class="op">(</span><span class="va">solver_out</span>, items <span class="op">=</span> <span class="va">items_mini</span>, idCol <span class="op">=</span> <span class="st">"item"</span><span class="op">)</span></span>
<span><span class="co">#&gt;    item format     time  difficulty    theta=0 form_1</span></span>
<span><span class="co">#&gt; 1     1     mc 27.78586 -1.88090278 0.10900318      0</span></span>
<span><span class="co">#&gt; 2     2     mc 15.45258  0.84295865 0.44945822      0</span></span>
<span><span class="co">#&gt; 3     3     mc 31.01590  1.11881538 0.32661056      0</span></span>
<span><span class="co">#&gt; 4     4     mc 29.87421  0.72867743 0.50339241      0</span></span>
<span><span class="co">#&gt; 5     5     mc 23.13401 -0.48870993 0.61088162      0</span></span>
<span><span class="co">#&gt; 6     6     mc 25.19305  0.47273874 0.61733915      0</span></span>
<span><span class="co">#&gt; 7     7     mc 25.66340 -1.18054268 0.30183441      0</span></span>
<span><span class="co">#&gt; 8     8     mc 30.21856 -0.36707654 0.65648760      1</span></span>
<span><span class="co">#&gt; 9     9     mc 26.61642 -0.56879434 0.57682871      0</span></span>
<span><span class="co">#&gt; 10   10     mc 15.35510  1.35397237 0.23900562      0</span></span>
<span><span class="co">#&gt; 11   11   open 65.85163 -0.75879786 0.48917461      0</span></span>
<span><span class="co">#&gt; 12   12   open 35.94400  2.49927381 0.04012039      0</span></span>
<span><span class="co">#&gt; 13   13   open 78.85030  1.33165799 0.24650909      0</span></span>
<span><span class="co">#&gt; 14   14   open 62.99738  0.58136415 0.57126860      1</span></span>
<span><span class="co">#&gt; 15   15   open 56.59458 -0.12012428 0.71501958      1</span></span>
<span><span class="co">#&gt; 16   16   open 45.12778 -1.28629686 0.26229560      0</span></span>
<span><span class="co">#&gt; 17   17   open 48.11908 -0.86124314 0.44088544      0</span></span>
<span><span class="co">#&gt; 18   18   open 76.32293  0.76977036 0.48398822      0</span></span>
<span><span class="co">#&gt; 19   19   open 76.20244 -1.39388826 0.22601541      0</span></span>
<span><span class="co">#&gt; 20   20   open 87.05063  0.10201223 0.71709486      1</span></span>
<span><span class="co">#&gt; 21   21  order 22.47400 -0.43147145 0.63341304      0</span></span>
<span><span class="co">#&gt; 22   22  order 39.92415  0.15006395 0.71087118      1</span></span>
<span><span class="co">#&gt; 23   23  order 57.71593 -0.82071059 0.45992776      0</span></span>
<span><span class="co">#&gt; 24   24  order 40.52289 -0.53606969 0.59105111      1</span></span>
<span><span class="co">#&gt; 25   25  order 52.15832  0.14083641 0.71224418      1</span></span>
<span><span class="co">#&gt; 26   26  order 38.29060  0.02381911 0.72220392      1</span></span>
<span><span class="co">#&gt; 27   27  order 45.97548  2.79595336 0.02450104      0</span></span>
<span><span class="co">#&gt; 28   28  order 43.77592  0.41298287 0.64030341      1</span></span>
<span><span class="co">#&gt; 29   29  order 25.55363  0.24091747 0.69302944      1</span></span>
<span><span class="co">#&gt; 30   30  order 19.50162 -0.51434114 0.60026891      0</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Becker, Dries Debeer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
